# Sidebar ë©”ë‰´ Flow ë¬¸ì„œ

## ğŸ“‹ ëª©ì°¨
1. [ê°œìš”](#ê°œìš”)
2. [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
3. [ë©”ë‰´ ë¡œë”© Flow](#ë©”ë‰´-ë¡œë”©-flow)
4. [ë©”ë‰´ ë Œë”ë§ Flow](#ë©”ë‰´-ë Œë”ë§-flow)
5. [ì‚¬ìš©ì ì¸í„°ë™ì…˜ Flow](#ì‚¬ìš©ì-ì¸í„°ë™ì…˜-flow)
6. [ê¶Œí•œ ê´€ë¦¬ Flow](#ê¶Œí•œ-ê´€ë¦¬-flow)
7. [API í†µì‹  Flow](#api-í†µì‹ -flow)
8. [ì£¼ìš” ì»´í¬ë„ŒíŠ¸](#ì£¼ìš”-ì»´í¬ë„ŒíŠ¸)

---

## ê°œìš”

ì´ ë¬¸ì„œëŠ” React ê¸°ë°˜ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ Sidebar ë©”ë‰´ ì‹œìŠ¤í…œì˜ ì „ì²´ íë¦„ì„ ì„¤ëª…í•©ë‹ˆë‹¤.

### í•µì‹¬ ê¸°ëŠ¥
- ğŸ” **ê¶Œí•œ ê¸°ë°˜ ë©”ë‰´ í‘œì‹œ** (GUEST, USER, MANAGER, ADMIN)
- ğŸ“Š **í•˜ì´ë¸Œë¦¬ë“œ ë©”ë‰´ êµ¬ì¡°** (í•˜ë“œì½”ë”© + DB ë™ì  ë©”ë‰´)
- ğŸ¯ **ê³„ì¸µí˜• ë©”ë‰´** (ë¶€ëª¨-ìì‹ ë©”ë‰´ êµ¬ì¡°)
- ğŸ”„ **ë™ì  ë©”ë‰´ í™•ì¥/ì¶•ì†Œ**
- ğŸ“± **ë°˜ì‘í˜• ë””ìì¸** (ëª¨ë°”ì¼/ë°ìŠ¤í¬í†±)

---

## ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Sidebar Component                     â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Header     â”‚    â”‚  Menu List   â”‚    â”‚  Footer  â”‚ â”‚
â”‚  â”‚  (User Info) â”‚    â”‚ (Navigation) â”‚    â”‚ (Logout) â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                      â”‚                    â”‚
         â–¼                      â–¼                    â–¼
    authStore            menuApi + DB          Navigation
```

### ì£¼ìš” íŒŒì¼ êµ¬ì¡°
```
src/components/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ Sidebar.jsx           # ë©”ì¸ ì‚¬ì´ë“œë°” ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ authStore.js          # ì¸ì¦ ìƒíƒœ ê´€ë¦¬
â”œâ”€â”€ menu/
â”‚   â”œâ”€â”€ menuApi.js            # ë©”ë‰´ API ì„œë¹„ìŠ¤
â”‚   â””â”€â”€ menuPermissions.js    # ê¶Œí•œ ë° ë©”ë‰´ ì •ì˜
```

---

## ë©”ë‰´ ë¡œë”© Flow

### 1ï¸âƒ£ ì´ˆê¸° ë¡œë”© í”„ë¡œì„¸ìŠ¤

```mermaid
graph TD
    A[Sidebar Component Mount] --> B{ì‚¬ìš©ì ì¸ì¦ í™•ì¸}
    B -->|ì¸ì¦ë¨| C[ì‚¬ìš©ì ê¶Œí•œ í™•ì¸]
    B -->|ë¯¸ì¸ì¦| D[GUEST ê¶Œí•œ ì„¤ì •]
    
    C --> E[useEffect ì‹¤í–‰]
    D --> E
    
    E --> F[loading: true ì„¤ì •]
    F --> G[ê¸°ë³¸ ë©”ë‰´ ì •ì˜]
    
    G --> H{DB ë©”ë‰´ ê°€ì ¸ì˜¤ê¸°}
    H -->|ì„±ê³µ| I[DB ë©”ë‰´ ë³€í™˜]
    H -->|ì‹¤íŒ¨| J[ì—ëŸ¬ ë¡œê¹…]
    
    I --> K[ê¸°ë³¸ + DB ë©”ë‰´ ë³‘í•©]
    J --> L[ê¸°ë³¸ ë©”ë‰´ë§Œ ì‚¬ìš©]
    
    K --> M[ë©”ë‰´ ìƒíƒœ ì—…ë°ì´íŠ¸]
    L --> M
    
    M --> N[loading: false ì„¤ì •]
    N --> O[ë©”ë‰´ ë Œë”ë§]
```

### 2ï¸âƒ£ ìƒì„¸ ë¡œë”© ì½”ë“œ íë¦„

```javascript
// Step 1: ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸ ë° ì´ˆê¸°í™”
const Sidebar = ({ isOpen, onClose }) => {
  const [menus, setMenus] = useState([])
  const [expandedMenus, setExpandedMenus] = useState({})
  const [loading, setLoading] = useState(true)
  const { user, logout } = useAuthStore()
  const userRole = user?.role || ROLES.GUEST

  // Step 2: useEffectë¡œ ë©”ë‰´ ë¡œë”©
  useEffect(() => {
    const loadMenus = async () => {
      try {
        setLoading(true)
        
        // Step 3: ê¸°ë³¸ ë©”ë‰´ ì •ì˜ (í•˜ë“œì½”ë”©)
        const defaultMenus = [
          { id: 'dashboard', name: 'ëŒ€ì‹œë³´ë“œ', path: '/dashboard', ... },
          { id: 'admin', name: 'ê´€ë¦¬ì íŒ¨ë„', path: '/admin', ... },
          { id: 'models', name: 'Models', path: null, children: [...] },
          // ... ë” ë§ì€ ê¸°ë³¸ ë©”ë‰´
        ]
        
        // Step 4: DBì—ì„œ ë©”ë‰´ ê°€ì ¸ì˜¤ê¸°
        try {
          const dbMenus = await menuApi.getAllMenus()
          
          // Step 5: DB ë©”ë‰´ë¥¼ Sidebar í˜•ì‹ìœ¼ë¡œ ë³€í™˜
          const convertedDbMenus = dbMenus.map(menu => ({
            id: menu.id,
            name: menu.name,
            path: menu.path || null,
            icon: menu.icon,
            children: menu.subItems?.map(sub => ({...})) || []
          }))
          
          // Step 6: ê¸°ë³¸ + DB ë©”ë‰´ ë³‘í•©
          const allMenus = [...defaultMenus, ...convertedDbMenus]
          setMenus(allMenus)
        } catch (dbError) {
          // Step 7: DB ì‹¤íŒ¨ ì‹œ ê¸°ë³¸ ë©”ë‰´ë§Œ ì‚¬ìš©
          console.error('DB ë©”ë‰´ ë¡œë”© ì‹¤íŒ¨:', dbError)
          setMenus(defaultMenus)
        }
      } finally {
        setLoading(false)
      }
    }
    
    loadMenus()
  }, [userRole])  // userRole ë³€ê²½ ì‹œ ì¬ë¡œë”©
}
```

### 3ï¸âƒ£ ë©”ë‰´ ë°ì´í„° êµ¬ì¡°

#### ê¸°ë³¸ ë©”ë‰´ êµ¬ì¡°
```javascript
{
  id: string,           // ê³ ìœ  ì‹ë³„ì
  name: string,         // í‘œì‹œ ì´ë¦„
  path: string | null,  // ë¼ìš°íŒ… ê²½ë¡œ (nullì´ë©´ ë“œë¡­ë‹¤ìš´)
  icon: string,         // ì•„ì´ì½˜ ì´ë¦„
  roles?: string[],     // í—ˆìš© ê¶Œí•œ ëª©ë¡
  children: []          // í•˜ìœ„ ë©”ë‰´ ë°°ì—´
}
```

#### ì˜ˆì‹œ: ê³„ì¸µí˜• ë©”ë‰´
```javascript
{
  id: 'models',
  name: 'Models',
  path: null,  // pathê°€ nullì´ë©´ ë“œë¡­ë‹¤ìš´
  icon: 'Brain',
  children: [
    {
      id: 'lstm',
      name: 'LSTM',
      path: '/models/lstm',
      icon: 'GitBranch'
    },
    {
      id: 'gru',
      name: 'GRU',
      path: '/models/gru',
      icon: 'Zap'
    }
  ]
}
```

---

## ë©”ë‰´ ë Œë”ë§ Flow

### 1ï¸âƒ£ ë Œë”ë§ í”„ë¡œì„¸ìŠ¤

```mermaid
graph TD
    A[ë©”ë‰´ ìƒíƒœ ì—…ë°ì´íŠ¸] --> B{loading ìƒíƒœ í™•ì¸}
    
    B -->|true| C[ë¡œë”© ìŠ¤í”¼ë„ˆ í‘œì‹œ]
    B -->|false| D{ë©”ë‰´ ê°œìˆ˜ í™•ì¸}
    
    D -->|0ê°œ| E[ë¹ˆ ë©”ë‰´ ì•ˆë‚´ í‘œì‹œ]
    D -->|1ê°œ ì´ìƒ| F[ë©”ë‰´ ë¦¬ìŠ¤íŠ¸ ë Œë”ë§]
    
    F --> G[ê° ë©”ë‰´ ìˆœíšŒ]
    G --> H[MenuItem ì»´í¬ë„ŒíŠ¸ í˜¸ì¶œ]
    
    H --> I{children ì¡´ì¬?}
    I -->|Yes| J[ë“œë¡­ë‹¤ìš´ ë©”ë‰´]
    I -->|No| K[ì¼ë°˜ ë§í¬ ë©”ë‰´]
    
    J --> L{í™•ì¥ ìƒíƒœ?}
    L -->|true| M[í•˜ìœ„ ë©”ë‰´ í‘œì‹œ]
    L -->|false| N[í•˜ìœ„ ë©”ë‰´ ìˆ¨ê¹€]
    
    M --> O[ì¬ê·€ì  MenuItem í˜¸ì¶œ]
```

### 2ï¸âƒ£ MenuItem ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

```javascript
const MenuItem = ({ menu, level = 0 }) => {
  const Icon = iconMap[menu.icon] || MenuIcon
  const hasChildren = menu.children && menu.children.length > 0
  const isExpanded = expandedMenus[menu.id]

  return (
    <div>
      {/* Case 1: ë§í¬ê°€ ìˆëŠ” ë©”ë‰´ (ì¼ë°˜ ë©”ë‰´ ë˜ëŠ” ë“œë¡­ë‹¤ìš´ ë¶€ëª¨) */}
      {menu.path ? (
        <NavLink
          to={menu.path}
          className={({ isActive }) => `
            flex items-center gap-3 px-4 py-3 
            ${isActive ? 'bg-gray-700 text-white border-l-4 border-blue-500' : ''}
            ${level > 0 ? 'pl-8' : ''}  // ê³„ì¸µì— ë”°ë¼ ë“¤ì—¬ì“°ê¸°
          `}
        >
          <Icon size={20} />
          <span>{menu.name}</span>
          {hasChildren && (
            isExpanded ? <ChevronDown /> : <ChevronRight />
          )}
        </NavLink>
      ) : (
        /* Case 2: ë§í¬ê°€ ì—†ëŠ” ë©”ë‰´ (ë“œë¡­ë‹¤ìš´ ì „ìš©) */
        <button onClick={() => handleMenuClick(menu)}>
          <Icon size={20} />
          <span>{menu.name}</span>
          {hasChildren && (
            isExpanded ? <ChevronDown /> : <ChevronRight />
          )}
        </button>
      )}

      {/* í•˜ìœ„ ë©”ë‰´ (ì¬ê·€ì  ë Œë”ë§) */}
      {hasChildren && isExpanded && (
        <div className="bg-gray-700">
          {menu.children.map(child => (
            <MenuItem key={child.id} menu={child} level={level + 1} />
          ))}
        </div>
      )}
    </div>
  )
}
```

### 3ï¸âƒ£ ì¡°ê±´ë¶€ ë Œë”ë§

```javascript
{/* ë¡œë”© ì¤‘ */}
{loading ? (
  <div className="flex flex-col items-center justify-center py-8">
    <div className="animate-spin rounded-full h-8 w-8 border-b-2 border-white" />
    <p className="text-gray-400 text-sm">ë©”ë‰´ ë¡œë”© ì¤‘...</p>
  </div>
) 
/* ë©”ë‰´ ì—†ìŒ */
: menus.length === 0 ? (
  <div className="px-4 py-8">
    <div className="bg-yellow-900 bg-opacity-20 border border-yellow-500 rounded-lg p-4">
      <p className="text-yellow-400 text-sm font-medium">ë©”ë‰´ê°€ ì—†ìŠµë‹ˆë‹¤</p>
      <p className="text-yellow-300 text-xs mt-1">
        ë©”ë‰´ ê´€ë¦¬ì—ì„œ ë©”ë‰´ë¥¼ ë“±ë¡í•˜ì„¸ìš”
      </p>
    </div>
  </div>
) 
/* ë©”ë‰´ ë Œë”ë§ */
: (
  <div>
    {menus.map(menu => (
      <MenuItem key={menu.id} menu={menu} />
    ))}
  </div>
)}
```

---

## ì‚¬ìš©ì ì¸í„°ë™ì…˜ Flow

### 1ï¸âƒ£ ë©”ë‰´ í´ë¦­ Flow

```mermaid
graph TD
    A[ì‚¬ìš©ì ë©”ë‰´ í´ë¦­] --> B{children ì¡´ì¬?}
    
    B -->|Yes| C[toggleMenu ì‹¤í–‰]
    B -->|No| D{path ì¡´ì¬?}
    
    C --> E[expandedMenus ìƒíƒœ í† ê¸€]
    E --> F[í•˜ìœ„ ë©”ë‰´ í‘œì‹œ/ìˆ¨ê¹€]
    
    D -->|Yes| G[navigate ì‹¤í–‰]
    D -->|No| H[ì•„ë¬´ ë™ì‘ ì—†ìŒ]
    
    G --> I{ëª¨ë°”ì¼ í™”ë©´?}
    I -->|Yes| J[Sidebar ë‹«ê¸°]
    I -->|No| K[Sidebar ìœ ì§€]
```

### 2ï¸âƒ£ ë©”ë‰´ í´ë¦­ í•¸ë“¤ëŸ¬

```javascript
const handleMenuClick = (menu) => {
  console.log('ğŸ–±ï¸ [Sidebar] ë©”ë‰´ í´ë¦­:', menu.name)
  
  // Case 1: ë“œë¡­ë‹¤ìš´ ë©”ë‰´ (children ìˆìŒ)
  if (menu.children && menu.children.length > 0) {
    console.log('âœ… [Sidebar] í•˜ìœ„ ë©”ë‰´ ìˆìŒ - í† ê¸€ ì‹¤í–‰')
    toggleMenu(menu.id)
  } 
  // Case 2: ë§í¬ ë©”ë‰´ (path ìˆìŒ)
  else if (menu.path) {
    console.log('ğŸ”— [Sidebar] í˜ì´ì§€ ì´ë™:', menu.path)
    navigate(menu.path)
    
    // ëª¨ë°”ì¼ì—ì„œëŠ” ë©”ë‰´ ë‹«ê¸°
    if (window.innerWidth < 768) {
      onClose()
    }
  }
}
```

### 3ï¸âƒ£ ë©”ë‰´ í™•ì¥/ì¶•ì†Œ ê´€ë¦¬

```javascript
const toggleMenu = (menuId) => {
  console.log('ğŸ”„ [Sidebar] ë©”ë‰´ í† ê¸€:', menuId)
  
  setExpandedMenus(prev => ({
    ...prev,
    [menuId]: !prev[menuId]  // í˜„ì¬ ìƒíƒœ ë°˜ì „
  }))
}

// í™•ì¥ ìƒíƒœ ì˜ˆì‹œ:
// expandedMenus = {
//   'models': true,    // Models ë©”ë‰´ í™•ì¥ë¨
//   'settings': false  // Settings ë©”ë‰´ ì¶•ì†Œë¨
// }
```

### 4ï¸âƒ£ ë¡œê·¸ì•„ì›ƒ Flow

```mermaid
graph TD
    A[ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ í´ë¦­] --> B[handleLogout ì‹¤í–‰]
    B --> C[authStore.logout í˜¸ì¶œ]
    C --> D[ì‚¬ìš©ì ì •ë³´ ì´ˆê¸°í™”]
    D --> E[ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ í´ë¦¬ì–´]
    E --> F[navigate to /login]
    F --> G[ë¡œê·¸ì¸ í˜ì´ì§€ í‘œì‹œ]
```

---

## ê¶Œí•œ ê´€ë¦¬ Flow

### 1ï¸âƒ£ ê¶Œí•œ ê³„ì¸µ êµ¬ì¡°

```
GUEST (0)      â† ìµœí•˜ìœ„ ê¶Œí•œ (ë¹„ë¡œê·¸ì¸)
  â†“
USER (1)       â† ì¼ë°˜ ì‚¬ìš©ì
  â†“
MANAGER (2)    â† ì¤‘ê°„ ê´€ë¦¬ì
  â†“
ADMIN (3)      â† ìµœìƒìœ„ ê´€ë¦¬ì
```

### 2ï¸âƒ£ ê¶Œí•œ ê¸°ë°˜ ë©”ë‰´ í•„í„°ë§

```javascript
// menuPermissions.js
export const getFilteredMenuItems = (userRole = ROLES.GUEST, isAuthenticated = false) => {
  return menuItems
    .filter(item => {
      // 1. ê¶Œí•œ ì²´í¬
      const hasRole = item.roles.includes(userRole)
      
      // 2. ì¸ì¦ í•„ìˆ˜ ë©”ë‰´ ì²´í¬
      if (item.requiresAuth && !isAuthenticated) {
        return false
      }
      
      return hasRole
    })
    .sort((a, b) => a.order - b.order)
}
```

### 3ï¸âƒ£ ê¶Œí•œë³„ í‘œì‹œ ì •ë³´

```javascript
// ê¶Œí•œë³„ ë°°ì§€ ìƒ‰ìƒ
const roleBadgeColors = {
  [ROLES.GUEST]: 'bg-gray-500',      // íšŒìƒ‰
  [ROLES.USER]: 'bg-blue-500',       // íŒŒë‘
  [ROLES.MANAGER]: 'bg-purple-500',  // ë³´ë¼
  [ROLES.ADMIN]: 'bg-red-500'        // ë¹¨ê°•
}

// ê¶Œí•œë³„ íŒ¨ë„ íƒ€ì´í‹€
const getHeaderTitle = () => {
  switch (user.role) {
    case ROLES.ADMIN: return 'Admin Panel'
    case ROLES.MANAGER: return 'Manager Panel'
    case ROLES.USER: return 'User Panel'
    case ROLES.GUEST: return 'Guest Panel'
    default: return 'System Panel'
  }
}
```

### 4ï¸âƒ£ ë©”ë‰´ ì ‘ê·¼ ê¶Œí•œ í™•ì¸

```javascript
// íŠ¹ì • ë©”ë‰´ ì ‘ê·¼ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸
export const canAccessMenu = (menuId, userRole = ROLES.GUEST, isAuthenticated = false) => {
  const menuItem = menuItems.find(item => item.id === menuId)
  
  if (!menuItem) return false
  
  // ê¶Œí•œ í™•ì¸
  const hasRole = menuItem.roles.includes(userRole)
  
  // ì¸ì¦ í•„ìš” ë©”ë‰´ í™•ì¸
  if (menuItem.requiresAuth && !isAuthenticated) {
    return false
  }
  
  return hasRole
}

// ìµœì†Œ ê¶Œí•œ ë ˆë²¨ í™•ì¸
export const hasMinimumRole = (userRole, requiredRole) => {
  return getRoleLevel(userRole) >= getRoleLevel(requiredRole)
}
```

---

## API í†µì‹  Flow

### 1ï¸âƒ£ menuApi ì„œë¹„ìŠ¤ êµ¬ì¡°

```javascript
const menuApi = {
  // ì „ì²´ ë©”ë‰´ ì¡°íšŒ
  getAllMenus: async () => {
    const response = await api.get('/admin/menus')
    return response.data
  },
  
  // ê¶Œí•œë³„ ë©”ë‰´ ì¡°íšŒ
  getMenusByRole: async (role) => {
    const response = await api.get(`/admin/menus/role/${role}`)
    return response.data
  },
  
  // ë©”ë‰´ íŠ¸ë¦¬ êµ¬ì¡° ì¡°íšŒ
  getMenuTree: async () => {
    const response = await api.get('/admin/menus/tree')
    return response.data
  },
  
  // ë©”ë‰´ ìƒì„±/ìˆ˜ì •/ì‚­ì œ
  createMenu: async (menuData) => { /* ... */ },
  updateMenu: async (menuId, menuData) => { /* ... */ },
  deleteMenu: async (menuId) => { /* ... */ },
  
  // ì„œë¸Œë©”ë‰´ ê´€ë¦¬
  createSubMenu: async (parentId, subMenuData) => { /* ... */ },
  updateSubMenu: async (parentId, subMenuId, subMenuData) => { /* ... */ },
  deleteSubMenu: async (parentId, subMenuId) => { /* ... */ },
  
  // ë©”ë‰´ ìˆœì„œ ë³€ê²½
  updateMenuOrder: async (menuOrders) => { /* ... */ }
}
```

### 2ï¸âƒ£ API í˜¸ì¶œ Flow

```mermaid
graph TD
    A[Sidebar Component] --> B[menuApi.getAllMenus]
    B --> C[HTTP GET Request]
    C --> D[Backend API]
    
    D --> E{ì‘ë‹µ ì„±ê³µ?}
    E -->|Yes| F[ë©”ë‰´ ë°ì´í„° ë°˜í™˜]
    E -->|No| G[ì—ëŸ¬ ë°œìƒ]
    
    F --> H[ë°ì´í„° ë³€í™˜]
    H --> I[ìƒíƒœ ì—…ë°ì´íŠ¸]
    I --> J[UI ë Œë”ë§]
    
    G --> K[ì—ëŸ¬ ë¡œê¹…]
    K --> L[ê¸°ë³¸ ë©”ë‰´ ì‚¬ìš©]
    L --> J
```

### 3ï¸âƒ£ ì—ëŸ¬ ì²˜ë¦¬

```javascript
try {
  const dbMenus = await menuApi.getAllMenus()
  console.log('âœ… [Sidebar] DB ë©”ë‰´:', dbMenus)
  
  // ë©”ë‰´ ë°ì´í„° ë³€í™˜
  const convertedDbMenus = dbMenus.map(menu => ({...}))
  
  // ê¸°ë³¸ + DB ë©”ë‰´ ë³‘í•©
  const allMenus = [...defaultMenus, ...convertedDbMenus]
  setMenus(allMenus)
  
} catch (dbError) {
  console.error('âŒ [Sidebar] DB ë©”ë‰´ ë¡œë”© ì‹¤íŒ¨:', dbError)
  
  // Fallback: ê¸°ë³¸ ë©”ë‰´ë§Œ ì‚¬ìš©
  setMenus(defaultMenus)
}
```

---

## ì£¼ìš” ì»´í¬ë„ŒíŠ¸

### 1ï¸âƒ£ Sidebar êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Header (ê³ ì •)              â”‚
â”‚  - ì‚¬ìš©ì ì•„ë°”íƒ€                  â”‚
â”‚  - íŒ¨ë„ íƒ€ì´í‹€                    â”‚
â”‚  - ë‹«ê¸° ë²„íŠ¼ (ëª¨ë°”ì¼)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    Debug Info (ê°œë°œìš©)           â”‚
â”‚  - ë©”ë‰´ ê°œìˆ˜ í‘œì‹œ                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚       Menu List (ìŠ¤í¬ë¡¤)         â”‚
â”‚  - Dashboard                    â”‚
â”‚  - Admin Panel                  â”‚
â”‚  - Models â–¼                     â”‚
â”‚    - LSTM                       â”‚
â”‚    - GRU                        â”‚
â”‚  - Products                     â”‚
â”‚  - Orders                       â”‚
â”‚  - ...                          â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       Footer (ê³ ì •)              â”‚
â”‚  - ì‚¬ìš©ì ì •ë³´                    â”‚
â”‚  - ê¶Œí•œ ë°°ì§€                      â”‚
â”‚  - ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2ï¸âƒ£ ë°˜ì‘í˜• ë™ì‘

#### ë°ìŠ¤í¬í†± (â‰¥768px)
```javascript
// í•­ìƒ í‘œì‹œ, transform ì—†ìŒ
className="md:static md:translate-x-0"
```

#### ëª¨ë°”ì¼ (<768px)
```javascript
// ì˜¤ë²„ë ˆì´ + ìŠ¬ë¼ì´ë“œ ì• ë‹ˆë©”ì´ì…˜
{isOpen && (
  <div className="fixed inset-0 bg-black bg-opacity-50 z-20" />
)}

<aside className={`
  fixed inset-y-0 left-0 z-30 w-64
  transform transition-transform duration-300
  ${isOpen ? 'translate-x-0' : '-translate-x-full'}
`}>
```

### 3ï¸âƒ£ ìƒíƒœ ê´€ë¦¬

```javascript
// ì»´í¬ë„ŒíŠ¸ ìƒíƒœ
const [menus, setMenus] = useState([])              // ë©”ë‰´ ëª©ë¡
const [expandedMenus, setExpandedMenus] = useState({}) // í™•ì¥ ìƒíƒœ
const [loading, setLoading] = useState(true)        // ë¡œë”© ìƒíƒœ

// ì™¸ë¶€ ìƒíƒœ (authStore)
const { user, logout } = useAuthStore()
const userRole = user?.role || ROLES.GUEST
```

---

## ì‚¬ìš© ì˜ˆì‹œ

### 1ï¸âƒ£ ê¸°ë³¸ ì‚¬ìš©

```jsx
import Sidebar from './components/app/Sidebar'

function App() {
  const [isSidebarOpen, setIsSidebarOpen] = useState(false)
  
  return (
    <div className="flex h-screen">
      <Sidebar 
        isOpen={isSidebarOpen} 
        onClose={() => setIsSidebarOpen(false)} 
      />
      <main className="flex-1">
        {/* ë©”ì¸ ì½˜í…ì¸  */}
      </main>
    </div>
  )
}
```

### 2ï¸âƒ£ ìƒˆ ë©”ë‰´ ì¶”ê°€ (ì½”ë“œ)

```javascript
// Sidebar.jsxì˜ defaultMenusì— ì¶”ê°€
const defaultMenus = [
  // ... ê¸°ì¡´ ë©”ë‰´
  {
    id: 'new-menu',
    name: 'ìƒˆ ë©”ë‰´',
    path: '/new-menu',
    icon: 'Sparkles',
    roles: [ROLES.USER, ROLES.ADMIN],  // ê¶Œí•œ ì„¤ì •
    children: []
  }
]
```

### 3ï¸âƒ£ ìƒˆ ë©”ë‰´ ì¶”ê°€ (DB)

```javascript
// menuApië¥¼ í†µí•´ DBì— ë©”ë‰´ ì¶”ê°€
await menuApi.createMenu({
  name: 'ìƒˆ ë©”ë‰´',
  path: '/new-menu',
  icon: 'Sparkles',
  order: 10,
  roles: ['USER', 'ADMIN']
})
```

---

## ë””ë²„ê¹… ê°€ì´ë“œ

### 1ï¸âƒ£ ì½˜ì†” ë¡œê·¸ í™œìš©

```javascript
console.log('ğŸ”§ [Sidebar] ë©”ë‰´ ë¡œë”© ì‹œì‘...')
console.log('ğŸ‘¤ [Sidebar] í˜„ì¬ ìœ ì €:', user)
console.log('ğŸ”‘ [Sidebar] í˜„ì¬ ê¶Œí•œ:', userRole)
console.log('ğŸ“‹ [Sidebar] ê¸°ë³¸ ë©”ë‰´:', defaultMenus.length, 'ê°œ')
console.log('ğŸ“¦ [Sidebar] DB ë©”ë‰´:', dbMenus)
console.log('âœ… [Sidebar] ë³€í™˜ëœ DB ë©”ë‰´:', convertedDbMenus.length, 'ê°œ')
console.log('ğŸ¯ [Sidebar] ì „ì²´ ë©”ë‰´:', allMenus.length, 'ê°œ')
```

### 2ï¸âƒ£ ê°œë°œì ë„êµ¬ í™œìš©

- **React DevTools**: ì»´í¬ë„ŒíŠ¸ ìƒíƒœ í™•ì¸
- **Network Tab**: API ìš”ì²­/ì‘ë‹µ í™•ì¸
- **Console**: ì—ëŸ¬ ë° ë¡œê·¸ í™•ì¸

### 3ï¸âƒ£ í”í•œ ë¬¸ì œì™€ í•´ê²°

| ë¬¸ì œ | ì›ì¸ | í•´ê²° ë°©ë²• |
|------|------|-----------|
| ë©”ë‰´ê°€ í‘œì‹œë˜ì§€ ì•ŠìŒ | DB ì—°ê²° ì‹¤íŒ¨ | ê¸°ë³¸ ë©”ë‰´ fallback í™•ì¸ |
| ê¶Œí•œì´ ì‘ë™í•˜ì§€ ì•ŠìŒ | user.role ì—†ìŒ | authStore ìƒíƒœ í™•ì¸ |
| í•˜ìœ„ ë©”ë‰´ê°€ ì•ˆ ë³´ì„ | expandedMenus ìƒíƒœ ë¬¸ì œ | toggleMenu í•¨ìˆ˜ í™•ì¸ |
| ì•„ì´ì½˜ì´ ì•ˆ ë³´ì„ | iconMap ëˆ„ë½ | iconMapì— ì•„ì´ì½˜ ì¶”ê°€ |

---

## ì„±ëŠ¥ ìµœì í™”

### 1ï¸âƒ£ ë©”ëª¨ì´ì œì´ì…˜

```javascript
// MenuItem ì»´í¬ë„ŒíŠ¸ ë©”ëª¨ì´ì œì´ì…˜
const MenuItem = React.memo(({ menu, level = 0 }) => {
  // ...
})

// ì•„ì´ì½˜ ë§¤í•‘ ìµœì í™”
const iconMap = useMemo(() => ({
  'DashboardIcon': Home,
  'Brain': Brain,
  // ...
}), [])
```

### 2ï¸âƒ£ ì¡°ê±´ë¶€ ë Œë”ë§ ìµœì í™”

```javascript
// ë¶ˆí•„ìš”í•œ ë Œë”ë§ ë°©ì§€
{hasChildren && isExpanded && (
  <div className="bg-gray-700">
    {menu.children.map(child => (
      <MenuItem key={child.id} menu={child} level={level + 1} />
    ))}
  </div>
)}
```

---

## ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

### 1ï¸âƒ£ ê¶Œí•œ ê²€ì¦

- âœ… **í”„ë¡ íŠ¸ì—”ë“œ**: ë©”ë‰´ í‘œì‹œ ì œì–´
- âœ… **ë°±ì—”ë“œ**: API ë ˆë²¨ ê¶Œí•œ ê²€ì¦ (í•„ìˆ˜)

### 2ï¸âƒ£ ë¯¼ê° ì •ë³´ ë³´í˜¸

```javascript
// âŒ ì˜ëª»ëœ ì˜ˆ
console.log('User token:', user.token)

// âœ… ì˜¬ë°”ë¥¸ ì˜ˆ
console.log('User role:', user.role)
```

---

## í™•ì¥ ê°€ëŠ¥ì„±

### 1ï¸âƒ£ í–¥í›„ ê°œì„  ì‚¬í•­

- [ ] ë©”ë‰´ ê²€ìƒ‰ ê¸°ëŠ¥
- [ ] ì¦ê²¨ì°¾ê¸° ë©”ë‰´
- [ ] ë©”ë‰´ ê°œì¸í™” ì„¤ì •
- [ ] ë‹¤êµ­ì–´ ì§€ì›
- [ ] ë“œë˜ê·¸ ì•¤ ë“œë¡­ ìˆœì„œ ë³€ê²½
- [ ] ë©”ë‰´ ì•„ì´ì½˜ ì»¤ìŠ¤í„°ë§ˆì´ì§•

### 2ï¸âƒ£ í”ŒëŸ¬ê·¸ì¸ ì‹œìŠ¤í…œ

```javascript
// í”ŒëŸ¬ê·¸ì¸ ë©”ë‰´ ë™ì  ì¶”ê°€
const pluginMenus = await loadPluginMenus()
const allMenus = [...defaultMenus, ...dbMenus, ...pluginMenus]
```

---

## ì°¸ê³  ìë£Œ

- [React Router Documentation](https://reactrouter.com/)
- [Lucide React Icons](https://lucide.dev/)
- [Tailwind CSS](https://tailwindcss.com/)
- [Zustand (State Management)](https://github.com/pmndrs/zustand)

---

## ë²„ì „ íˆìŠ¤í† ë¦¬

| ë²„ì „ | ë‚ ì§œ | ë³€ê²½ ì‚¬í•­ |
|------|------|-----------|
| 1.0.0 | 2024-01 | ì´ˆê¸° ë²„ì „ |
| 1.1.0 | 2024-02 | DB ë©”ë‰´ í†µí•© |
| 1.2.0 | 2024-03 | ê¶Œí•œ ì‹œìŠ¤í…œ ê°œì„  |

---

**ë¬¸ì„œ ì‘ì„±ì¼**: 2024-01-07  
**ì‘ì„±ì**: Development Team  
**ìµœì¢… ìˆ˜ì •ì¼**: 2024-01-07
